parameter (or (unit %default) (lambda %execute unit (list operation))); storage (pair (address %administrator) (address %recipient)); code { CAST (pair (or unit (lambda unit (list operation))) (pair address address)) ; UNPAIR ; IF_LEFT { DROP ; DUP ; CDR ; CONTRACT unit ; IF_NONE { PUSH int 24 ; FAILWITH } {} ; NIL operation ; SWAP ; BALANCE ; UNIT ; TRANSFER_TOKENS ; CONS } { SENDER ; DUP 3 ; CAR ; COMPARE ; EQ ; IF {} { PUSH int 401 ; FAILWITH } ; NIL operation ; SWAP ; UNIT ; EXEC ; NIL operation ; SWAP ; ITER { CONS } ; ITER { CONS } } ; NIL operation ; SWAP ; ITER { CONS } ; PAIR }
parameter (or (unit %init_contract) (pair %run_contract (list %addresses address) (pair (string %body) (string %subject)))); storage (pair (address %admin) (address %destination)); code { UNPAIR ; IF_LEFT { DROP ; DUP ; CAR ; SENDER ; COMPARE ; EQ ; IF {} { PUSH string "WrongCondition: sp.sender == self.data.admin" ; FAILWITH } ; DUP ; CDR ; CONTRACT %entrypoint_1 bytes ; IF_NONE { PUSH int 19 ; FAILWITH } {} ; NIL operation ; SWAP ; AMOUNT ; PUSH string "hello world" ; PACK ; TRANSFER_TOKENS ; CONS } { NIL operation ; DUP 3 ; CDR ; CONTRACT %entrypoint_0 (pair (list address) (pair string string)) ; IF_NONE { PUSH int 12 ; FAILWITH } {} ; AMOUNT ; DIG 3 ; TRANSFER_TOKENS ; CONS } ; PAIR }